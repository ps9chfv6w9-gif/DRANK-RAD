<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Drank Rad</title>

<link rel="manifest" href="manifest.webmanifest">
<link rel="apple-touch-icon" href="icon-192.png">

<style>
:root{
  /* Default “bar” achtergrond */
  --bg1:#2b1b12;
  --bg2:#120a06;
  --paper:#f4efe9;

  /* Wordt dynamisch door JS per categorie gezet */
  --glow:#c47a2c;   /* fallback amber */
  --glow2:#f2b705;  /* fallback bier */

  /* Segment kleuren (veel kleuren, duidelijk anders) */
  --seg1:#c47a2c; /* amber */
  --seg2:#f2b705; /* bier geel */
  --seg3:#7a1f1f; /* wijn rood */
  --seg4:#3f5f3a; /* mos groen */
  --seg5:#2f3e46; /* oud blauw */
  --seg6:#4a2e1f; /* warm bruin */
}

body{
  margin:0;
  font-family: system-ui, -apple-system;
  color: var(--paper);
  min-height:100vh;
  overflow:hidden;
  background:
    radial-gradient(circle at 20% 0%, rgba(196,122,44,.25), transparent 55%),
    radial-gradient(circle at 80% 10%, rgba(63,95,58,.18), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
}

/* ✅ Alleen pulsen tijdens spin (groots) */
body.spinning{
  animation: barPulse 1.15s ease-in-out infinite;
}
@keyframes barPulse{
  0%   { filter: brightness(1) contrast(1); }
  50%  { filter: brightness(1.22) contrast(1.05); }
  100% { filter: brightness(1) contrast(1); }
}

/* extra glow overlay tijdens spin */
body.spinning::before{
  content:"";
  position:fixed;
  inset:-20%;
  pointer-events:none;
  background:
    radial-gradient(circle at 50% 35%, color-mix(in srgb, var(--glow) 55%, transparent), transparent 58%),
    radial-gradient(circle at 55% 60%, color-mix(in srgb, var(--glow2) 45%, transparent), transparent 62%);
  filter: blur(18px);
  opacity:.95;
  animation: spinGlowMove 1.15s ease-in-out infinite;
}
@keyframes spinGlowMove{
  0%   { transform: scale(1) translateY(0); }
  50%  { transform: scale(1.06) translateY(-8px); }
  100% { transform: scale(1) translateY(0); }
}

.wrap{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;

  /* safe area support (iPhone 15 etc.) */
  padding:
    env(safe-area-inset-top)
    env(safe-area-inset-right)
    env(safe-area-inset-bottom)
    env(safe-area-inset-left);
}

.pointer{
  position:absolute;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:16px solid transparent;
  border-right:16px solid transparent;
  border-top:24px solid var(--paper);
  filter:
    drop-shadow(0 0 10px color-mix(in srgb, var(--glow) 70%, transparent))
    drop-shadow(0 0 18px color-mix(in srgb, var(--glow2) 55%, transparent));
  z-index:5;
}

canvas{
  width:100%;
  border-radius:20px;
  cursor:pointer;
  background: rgba(0,0,0,.15);
  box-shadow:
    0 20px 60px rgba(0,0,0,.55),
    0 0 0 1px rgba(255,255,255,.06) inset;
}

/* TUSSENRESULTAAT (kort tonen) */
.midResult{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  z-index:20;
}
.midResult span{
  font-size:44px;
  font-weight:950;
  opacity:0;
  transform:scale(.85);
  transition: opacity .25s ease, transform .25s ease;
  text-shadow:
    0 0 10px color-mix(in srgb, var(--glow) 70%, transparent),
    0 0 18px color-mix(in srgb, var(--glow2) 60%, transparent),
    0 14px 28px rgba(0,0,0,.8);
}
.midResult.show span{
  opacity:1;
  transform:scale(1);
}

/* EINDSCHERM = FULLSCREEN KNOP */
.finalScreen{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.55);
  z-index:30;
}
.finalScreen button{
  width:100%;
  height:100%;
  background:none;
  border:none;
  color:var(--paper);
  font-size: clamp(48px, 8vw, 92px);
  font-weight:1000;
  cursor:pointer;
  text-align:center;
  padding:28px;
  text-shadow:
    0 0 14px color-mix(in srgb, var(--glow) 75%, transparent),
    0 0 26px color-mix(in srgb, var(--glow2) 65%, transparent),
    0 18px 40px rgba(0,0,0,.85);
  animation: floatFinal 2.8s ease-in-out infinite;
}
@keyframes floatFinal{
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-16px); }
  100% { transform: translateY(0); }
}
</style>
</head>

<body>
<div class="wrap">
  <div style="position:relative">
    <div class="pointer"></div>
    <canvas id="wheel" width="900" height="900"></canvas>
  </div>
</div>

<div class="midResult" id="midResult"><span></span></div>

<div class="finalScreen" id="finalScreen">
  <button id="finalBtn"></button>
</div>

<script src="app.js"></script>
</body>
</html>
